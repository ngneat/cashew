4f607eb60b69125e0554e5b2c1f9f273
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var httpCacheGuard_1 = require("../httpCacheGuard");
var mocks_spec_1 = require("./mocks.spec");
describe('DefaultHttpCacheGuard', function () {
    var defaultHttpCache;
    beforeEach(function () {
        defaultHttpCache = new httpCacheGuard_1.DefaultHttpCacheGuard();
    });
    it('should not accept requests of method POST', function () {
        expect(defaultHttpCache.canActivate(mocks_spec_1.httpRequest())).toBeTruthy();
        expect(defaultHttpCache.canActivate(mocks_spec_1.httpRequest('POST'))).toBeFalsy();
    });
    it('should not accept requests of responseType blob', function () {
        expect(defaultHttpCache.canActivate(mocks_spec_1.httpRequest('GET', { responseType: 'blob' }))).toBeFalsy();
    });
    it('should accept requests of method GET and responseType json', function () {
        expect(defaultHttpCache.canActivate(mocks_spec_1.httpRequest('GET', { responseType: 'json' }))).toBeTruthy();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxJdGF5XFxwcm9qZWN0c1xcb3BlbnNvdXJjZXNcXGh0dHAtY2FjaGVcXHByb2plY3RzXFxuZ25lYXRcXGh0dHAtY2FjaGVcXHNyY1xcbGliXFx0ZXN0XFxodHRwQ2FjaGVHdWFyZC5zcGVjLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsb0RBQXdEO0FBQ3hELDJDQUF5QztBQUV6QyxRQUFRLENBQUMsdUJBQXVCLEVBQUU7SUFDaEMsSUFBSSxnQkFBdUMsQ0FBQztJQUM1QyxVQUFVLENBQUM7UUFDVCxnQkFBZ0IsR0FBRyxJQUFJLHNDQUFxQixFQUFFLENBQUM7SUFDakQsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLENBQUMsMkNBQTJDLEVBQUU7UUFDOUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyx3QkFBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2pFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsd0JBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDeEUsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLENBQUMsaURBQWlELEVBQUU7UUFDcEQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyx3QkFBVyxDQUFDLEtBQUssRUFBRSxFQUFDLFlBQVksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUMvRixDQUFDLENBQUMsQ0FBQztJQUNILEVBQUUsQ0FBQyw0REFBNEQsRUFBRTtRQUMvRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLHdCQUFXLENBQUMsS0FBSyxFQUFFLEVBQUMsWUFBWSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ2hHLENBQUMsQ0FBQyxDQUFDO0FBRUwsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxJdGF5XFxwcm9qZWN0c1xcb3BlbnNvdXJjZXNcXGh0dHAtY2FjaGVcXHByb2plY3RzXFxuZ25lYXRcXGh0dHAtY2FjaGVcXHNyY1xcbGliXFx0ZXN0XFxodHRwQ2FjaGVHdWFyZC5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RGVmYXVsdEh0dHBDYWNoZUd1YXJkfSBmcm9tICcuLi9odHRwQ2FjaGVHdWFyZCc7XG5pbXBvcnQge2h0dHBSZXF1ZXN0fSBmcm9tICcuL21vY2tzLnNwZWMnO1xuXG5kZXNjcmliZSgnRGVmYXVsdEh0dHBDYWNoZUd1YXJkJywgKCkgPT4ge1xuICBsZXQgZGVmYXVsdEh0dHBDYWNoZTogRGVmYXVsdEh0dHBDYWNoZUd1YXJkO1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBkZWZhdWx0SHR0cENhY2hlID0gbmV3IERlZmF1bHRIdHRwQ2FjaGVHdWFyZCgpO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBub3QgYWNjZXB0IHJlcXVlc3RzIG9mIG1ldGhvZCBQT1NUJywgKCkgPT4ge1xuICAgIGV4cGVjdChkZWZhdWx0SHR0cENhY2hlLmNhbkFjdGl2YXRlKGh0dHBSZXF1ZXN0KCkpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGRlZmF1bHRIdHRwQ2FjaGUuY2FuQWN0aXZhdGUoaHR0cFJlcXVlc3QoJ1BPU1QnKSkpLnRvQmVGYWxzeSgpO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBub3QgYWNjZXB0IHJlcXVlc3RzIG9mIHJlc3BvbnNlVHlwZSBibG9iJywgKCkgPT4ge1xuICAgIGV4cGVjdChkZWZhdWx0SHR0cENhY2hlLmNhbkFjdGl2YXRlKGh0dHBSZXF1ZXN0KCdHRVQnLCB7cmVzcG9uc2VUeXBlOiAnYmxvYid9KSkpLnRvQmVGYWxzeSgpO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBhY2NlcHQgcmVxdWVzdHMgb2YgbWV0aG9kIEdFVCBhbmQgcmVzcG9uc2VUeXBlIGpzb24nLCAoKSA9PiB7XG4gICAgZXhwZWN0KGRlZmF1bHRIdHRwQ2FjaGUuY2FuQWN0aXZhdGUoaHR0cFJlcXVlc3QoJ0dFVCcsIHtyZXNwb25zZVR5cGU6ICdqc29uJ30pKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxufSk7XG4iXSwidmVyc2lvbiI6M30=